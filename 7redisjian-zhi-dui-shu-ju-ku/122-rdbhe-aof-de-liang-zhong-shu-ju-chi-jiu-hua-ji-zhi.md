持久化:redis提供了两种数据备份方式，一章是RDB，另外一种是AOF

|  | RDB | AOF |
| :--- | :--- | :--- |
| 开启关闭 | 开启:默认开启。关闭:把配置文件中所有的save都注释，就是关闭了 | 开启:在配置文件中appendonlyyes即开启了aof，为no关闭 |
| 同步机制 | 可以指定某个时间内发生多少个命令进行同步。比如1分钟发生了2次命令，就像一次同步 | 每秒同步或者每次发送命令后同步 |
| 存储内容 | 存储的是redis里面的具体的值 | 存储的是执行的写操作命令 |
| 优点 | （1）存储数据到文件中会进行注释，文件体积比aof小。（2）因为存储的是redis具体的值，并且会经过压缩，因此在恢复的时候速度比AOF快。（3）非常适用于备份 | （1）AOF的策略是每秒钟或者每次发生写操作的时候都会同步，因此即使服务器故障，最多只会丢失1秒的数据。（2）AOF存储的redis命令，并且使直接追加到aof文件后面， |
| 存储文件的路径 | 根据dir以及dbfilename来指定路径和具体的文件名 | 根据dir以及appendfilename来指定具体的路径和文件名 |

注意修改完配置，需重启服务:sudo service redis-server restart

